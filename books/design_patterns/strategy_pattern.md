---
sort: 1
---
# Strategy Pattern 策略模式
定義了演算法家族，個別封裝起來，讓它們之間可以互相替換，此模式讓演算法的變動不會影響到使用演算法的程式。

有一套鴨子類別，各種類鴨子都繼承了父類別鴨子  
Q :要讓鴨子會飛，這時程式要怎麼修改呢？  

A1:在父類別加上飛行方法fly()  
X :並不是每種鴨子都會飛，如果每個不會飛的子類別鴨子都要修改fly()，以後會很難維護  

A2:將飛行改為介面，每個要飛的鴨子要去實作飛行  
X :每次鴨子都要實作重複的飛行方法，程式碼無法再利用，以後要修改也麻煩  

- 將會變動的飛行獨立出來，宣告飛行行為這個屬性(抽象類別或介面)，如此可使用多型，在執行時依據不同的實作而有不同的行為。
- 當需要飛的行為時，就產生飛的類別實作 FlyBehavier，需要用翅膀飛的鴨子就可以用 FlyWithWings，而不會飛的鴨子就用 FlyNoWay。
- 如此可以讓飛的行為被其他鴨子物件再利用，因為這些行為跟鴨子類別沒關係了。就算我們再新增其他飛的行為，也不會影響到鴨子類別。也可以在程式執行時期動態改變飛行行為。